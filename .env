# ==============================================
# SHOPSIFU LOCAL DEVELOPMENT ENVIRONMENT
# ==============================================
# Local development configuration
# Connects to Docker services on host server: 103.147.186.84
# ==============================================

# ==============================================
# APPLICATION CORE SETTINGS
# ==============================================
NODE_ENV=development
APP_NAME=shopsifu
APP_DEBUG=true
APP_LOG_LEVEL=debug
APP_CORS_ORIGINS=https://shopsifu.live,https://www.shopsifu.live,https://api.shopsifu.live,http://localhost:3000,http://localhost:8000,http://localhost:3001
TZ=Asia/Ho_Chi_Minh

# ==============================================
# LOCAL SERVER CONFIGURATION
# ==============================================
HTTP_HOST=0.0.0.0
HTTP_PORT=3000
HTTP_VERSIONING_ENABLE=true
HTTP_VERSION=1
SERVER_HEALTH_CHECK_PATH=/health

# Local development server settings
LOCAL_SERVER_PORT=3000
LOCAL_SERVER_HOST=0.0.0.0

# ==============================================
# AUTHENTICATION & SECURITY
# ==============================================
AUTH_ACCESS_TOKEN_SECRET="4Jq2K9zX8mW3nP7vL5tR1cY6bF2hQ8kN4xJ9pD3wE="
AUTH_ACCESS_TOKEN_EXP=1d
AUTH_REFRESH_TOKEN_SECRET="9pD3wE4Jq2K9zX8mW3nP7vL5tR1cY6bF2hQ8kN4xJ="
AUTH_REFRESH_TOKEN_EXP=7d
AUTH_OTP_EXP=5m

# ==============================================
# COOKIE CONFIGURATION (SIMPLIFIED)
# ==============================================
COOKIE_SECRET="c9f2c37663d152c109ab99af0061482d3cd3b7d22b34813c1b88f2484eb8baa2"

# Access Token Cookie
COOKIE_ACCESS_TOKEN_NAME="access_token"
COOKIE_ACCESS_TOKEN_HTTP_ONLY=false
COOKIE_ACCESS_TOKEN_SECURE=false
COOKIE_ACCESS_TOKEN_SAME_SITE="lax"
COOKIE_ACCESS_TOKEN_PATH="/"
COOKIE_ACCESS_TOKEN_DOMAIN=""
COOKIE_ACCESS_TOKEN_MAX_AGE="900000"

# Refresh Token Cookie
COOKIE_REFRESH_TOKEN_NAME="refresh_token"
COOKIE_REFRESH_TOKEN_HTTP_ONLY=true
COOKIE_REFRESH_TOKEN_SECURE=false
COOKIE_REFRESH_TOKEN_SAME_SITE="lax"
COOKIE_REFRESH_TOKEN_PATH="/"
COOKIE_REFRESH_TOKEN_DOMAIN=""
COOKIE_REFRESH_TOKEN_MAX_AGE="604800000"

# CSRF Token Cookie
COOKIE_CSRF_TOKEN_NAME="csrf_token"
COOKIE_CSRF_TOKEN_HTTP_ONLY=false
COOKIE_CSRF_TOKEN_SECURE=false
COOKIE_CSRF_TOKEN_SAME_SITE="lax"
COOKIE_CSRF_TOKEN_PATH="/"
COOKIE_CSRF_TOKEN_DOMAIN=""
COOKIE_CSRF_TOKEN_MAX_AGE="3600000"
COOKIE_CSRF_TOKEN_EXP=1h

# ==============================================
# ADMIN USER CONFIGURATION
# ==============================================
ADMIN_NAME="Super Admin"
ADMIN_PASSWORD="Shopsifu2025"
ADMIN_EMAIL="shopsifu.ecommerce@gmail.com"
ADMIN_PHONE_NUMBER=0123456789

# ==============================================
# DOCKER HOST CONNECTION
# ==============================================
# Docker host server IP address
DOCKER_HOST_IP=103.147.186.84

# ==============================================
# DATABASE CONNECTION (LOCAL -> DOCKER HOST)
# ==============================================
# Primary connection through PgBouncer (recommended for app traffic)
DATABASE_URL=postgresql://shopsifu:Shopsifu2025@103.147.186.84:6432/shopsifu?schema=public&pgbouncer=true

# Direct connection to PostgreSQL (for migrations/maintenance)
DATABASE_DIRECT_URL=postgresql://shopsifu:Shopsifu2025@103.147.186.84:5432/shopsifu?schema=public

# PgBouncer connection URL
PGBOUNCER_URL=postgresql://shopsifu:Shopsifu2025@103.147.186.84:6432/shopsifu?schema=public

# ==============================================
# REDIS CONNECTION (LOCAL -> DOCKER HOST)
# ==============================================
REDIS_HOST=103.147.186.84
REDIS_PORT=6379
REDIS_PASSWORD=Shopsifu2025
REDIS_URL=redis://:Shopsifu2025@103.147.186.84:6379

# ==============================================
# ELASTICSEARCH CONNECTION (LOCAL -> DOCKER HOST)
# ==============================================
ELASTICSEARCH_NODE=http://103.147.186.84:9200
ELASTICSEARCH_INDEX_PRODUCTS=products
ELASTICSEARCH_CLUSTER_NAME=shopsifu-cluster
ELASTICSEARCH_DISCOVERY_TYPE=single-node

# ==============================================
# MONITORING SERVICES (LOCAL -> DOCKER HOST)
# ==============================================
# Grafana Dashboard
GRAFANA_URL=http://103.147.186.84:3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=Shopsifu2025

# Prometheus Metrics
PROMETHEUS_URL=http://103.147.186.84:9090

# Kibana Logs
KIBANA_URL=http://103.147.186.84:5601
KIBANA_ELASTICSEARCH_HOSTS=http://103.147.186.84:9200

# ==============================================
# EXTERNAL SERVICE INTEGRATIONS
# ==============================================
# Google OAuth (Local development)
GOOGLE_CLIENT_ID=551696393503-8hj91f2hg1bbikgcudtgs2q076lp8g3u.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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
GOOGLE_CLIENT_REDIRECT_URI=http://localhost:3000/auth/google/callback
GOOGLE_REDIRECT_URI=http://localhost:3000/auth/google/callback

# Payment Gateway
PAYMENT_API_KEY="7pL4mZ9vN2xQ8kW3rT6yC1bJ5hF8nP9tD2wE4qK0x="

# VNPay (Test Environment)
VNPAY_TMN_CODE=BZAITEST
VNPAY_SECURE_SECRET=XUGOW7WVUXMD130VLQ2D34JJIKIWP1EK

# AWS S3 Storage
S3_REGION=ap-southeast-1
S3_ACCESS_KEY=AKIA4IM3HQTJQCSUO3Y3
S3_SECRET_KEY=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
S3_BUCKET_NAME=shopsifu

# Email Service (Resend)
RESEND_API_KEY=re_SxoEAFpx_ELpBAER2cyqVTwodwiJxqDsW

# Error Tracking (Sentry) - Empty for local development
SENTRY_DSN=""

# ==============================================
# DEVELOPMENT TOOLS
# ==============================================
# Prisma Studio
PRISMA_STUDIO_PORT=5555

# API URL for local development
API_URL=http://103.147.186.84:3000

# ==============================================
# PERFORMANCE OPTIMIZATION (LOCAL DEVELOPMENT)
# ==============================================
# Node.js Performance
NODE_OPTIONS=--max-old-space-size=8192
UV_THREADPOOL_SIZE=32

# Application Configuration
APP_WORKERS=4
APP_CONCURRENT_REQUESTS=1000

# ==============================================
# LOCAL DEVELOPMENT NOTES
# ==============================================
# This configuration allows you to:
# 1. Run the application locally on your machine
# 2. Connect to Docker services running on host server (103.147.186.84)
# 3. Use PgBouncer for database connection pooling
# 4. Access monitoring services (Grafana, Prometheus, Kibana)
# 5. Develop with hot-reload and debugging enabled
